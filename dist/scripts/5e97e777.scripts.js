!function(){"use strict";angular.module("pubnub.angular.service",[]).factory("PubNub",function(){return PUBNUB})}.call(this),function(){"use strict";angular.module("PubNubAngularApp",["pubnub.angular.service"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}])}.call(this),function(){"use strict";var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};angular.module("PubNubAngularApp").controller("MainCtrl",["$scope","PubNub",function(b,c){return b.publish=function(){return console.log("publish",b),c.publish({channel:b.selectedChannel,message:b.newMessage}),b.newMessage=""},b.subscribe=function(){var d;return console.log("subscribe",b),b.newChannel?(d=b.newChannel,a.call(b.channels,d)>=0||b.channels.push(b.newChannel),c.subscribe({channel:b.channels.join(","),message:function(a,c,d){return b.$apply(function(){return b.messages.unshift(""+d+" -> "+a)})}}),b.selectedChannel=b.newChannel,b.newChannel=""):void 0},b.select=function(a){return console.log("select",a),b.selectedChannel=a},b.channels=[],b.messages=["Welcome"],b.newChannel=b.selectedChannel="Waiting_Room",b.subscribe()}])}.call(this);